apiVersion: apps/v1
kind: Deployment
metadata:
 name: nginx-deployment
 labels:
   app: web(can be anything)
spec:
 replicas: 1
 selector:
  matchLabels:
    app: web
 template:
   metadata:
     labels:
       app: web
   spec:
    containers:
    - name: web
      image: nginx:1.14 (can be anything)
      ports:
      - containerPort: 80
 
HPA:
 
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
 name: my-app-hpa
spec:
 scaleTargetRef:
   apiVersion: apps/v1
   kind: Deployment
   name: nginx-deployment (Deployment name)
 minReplicas: 4
 maxReplicas: 10
 metrics:
   - type: Resource
     resource:
       name: cpu
       target:
         type: Utilization

         averageUtilization: 50

-----------------------------------------------------------
kubectl autoscale deploy nginx-deployment --cpu-percent=50 --min=1 --max=3
